# FSP Cup 2025 ‚Äî Backend Monorepo

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π –Ω–∞ NestJS —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PostgreSQL, Docker –∏ Docker Compose.

---

## üì¶ –°–µ—Ä–≤–∏—Å—ã

- **api-gateway** ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π REST API, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤
- **core-service** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- **users-service** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **db** ‚Äî PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=mydatabase
DB_HOST=db
DB_PORT=5432
DB_USER=postgres
DB_PASS=postgres
DB_NAME=mydatabase
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (hot reload)

–í dev-—Ä–µ–∂–∏–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `nest start <project> --watch`. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è.

```bash
docker-compose -f docker-compose.dev.yml up --build
```

üõ†Ô∏è Hot reload —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ polling (—Ñ–∞–π–ª `webpack-hmr.config.js`), —Ç–∞–∫ —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `.ts` —Ñ–∞–π–ª–∞—Ö –≤–Ω—É—Ç—Ä–∏ `apps/*/src` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

* `http://localhost:3000/api/users` ‚Äî –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ gateway
* `http://localhost:4001/` ‚Äî users-service –Ω–∞–ø—Ä—è–º—É—é
* `http://localhost:4002/` ‚Äî core-service –Ω–∞–ø—Ä—è–º—É—é

---

## üì¶ –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–ü—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ `Dockerfile` –≤ `apps/*`.

```bash
docker-compose up --build
```

---

## üßπ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
docker-compose down -v       # —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ volume –±–∞–∑—ã
docker-compose logs -f       # —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker exec -it <container> sh  # –∑–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```

---

## üß± –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* [NestJS](https://docs.nestjs.com/)
* [PostgreSQL](https://www.postgresql.org/)
* [Docker &amp; Compose](https://docs.docker.com/)
* [Yarn Workspaces](https://classic.yarnpkg.com/en/docs/workspaces/)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
apps/
‚îú‚îÄ‚îÄ api-gateway/
‚îú‚îÄ‚îÄ core-service/
‚îî‚îÄ‚îÄ users-service/
```

---

## üß† –°–æ–≤–µ—Ç—ã

* –î–ª—è Node.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ `node:20-alpine`.

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢—ã –º–æ–∂–µ—à—å —Ç–µ–ø–µ—Ä—å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –≤ –¥–µ–≤, —Ç–∞–∫ –∏ –≤ –ø—Ä–æ–¥–µ, –∏—Å–ø–æ–ª—å–∑—É—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –±–ª–∞–≥–æ–¥–∞—Ä—è Docker + Nest CLI + Workspaces.
